extends layout


block content
  .container
    h2(align='center') #{title}
    form(method='POST',action='/downtimeevent/edit/'+downtimeevent.id, onsubmit="return confirm('Remember to notify the relevant sub-system owner!');")
      label code
      #form-group
        select(name='code', required)
          option(selected='selected')= downtimeevent.code
          |
          option(value='B') B: Beamlines
          |
          option(value='BI') BI: Beam Instability
          |
          option(value='CT') CT: Controls
          |
          option(value='DIA') DIA: diagnostics
          |
          option(value='HE') HE: Human Error
          |
          option(value='HLS') HLS: High Level Software (SPF only)
          |
          option(value='I') I: Linac/Injector
          |
          option(value='ID') ID: Insertion Devices
          |
          option(value='INF') INF: Infrastructure
          |
          option(value='LAS') LAS: Laser (SPF only)
          |
          option(value='MAG') MAG: Magnet (powersupplies)
          |
          option(value='MML') MML: High level software MML
          |
          option(value='MPS') MPS: Machine Protection System
          |
          option(value='NET') NET: Network
          |
          option(value='OI') OI: Orbit Interlock
          |
          option(value='OT') OT: Other
          |
          option(value='PLC') PLC: Programable Logic Controller
          |
          option(value='PSS') PSS: Personel Safety System
          |
          option(value='RF') RF: Radio Frequency
          |
          option(value='UI') UI: Unscheduled Injection to rings (SPF only)
          |
          option(value='UT') UT: Unplanned Trimming (SPF only)
          |
          option(value='VAC') VAC: Vacuum
          |
          option(value='WAT') WAT: Water
          |
          option(value='WD') WD: Watchdog
      label Machine 
      #form-group
        select(name='machine')
          option(selected='selected', value=downtimeevent.machine)= downtimeevent.machine
          |
          option(value='I') I
          |   
          option(value='R1') R1
          |   
          option(value='R3') R3
      #form-group
        label Operator:
        input.form-control(name='operator', type='text',value=downtimeevent.operator)
      #form-group
        label Description:
        textarea.form-control(name='description')= downtimeevent.description
      #form-group
        label Date:
        input.form-control(name='date', type='date',value=downtimeevent.date,pattern="(?:19|20)[0-9]{2}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-9])|(?:(?!02)(?:0[1-9]|1[0-2])-(?:30))|(?:(?:0[13578]|1[02])-31))")#date
      #form-group
        label Time:
        input.form-control(name='time', type='text',value=downtimeevent.time, pattern='([0-1]{1}[0-9]{1}|20|21|22|23):[0-5]{1}[0-9]{1}')#time
      #form-group
        label Duration (minutes):
        input.form-control(name='duration', type='number', step=1, min=0, value=downtimeevent.duration)
      br
      input.btn.btn-primary.btn-lg(type='submit',value='Submit')
